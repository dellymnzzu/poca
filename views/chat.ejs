<!doctype html>
<html lang="ko">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <title>BUTTERFIY</title>

    
</head>
<body>
    
    
    
    
    
    
    
 
  
  
  <%- include('nav.html') %>
  <h1 style="border-bottom:1px solid gray; ">채팅방</h1>
  <div id="content"></div>
  <input type="text" name="number" value="<%= data._id %>">
  <input type="text" id="input1">

  <button id ="send">보내기</button>
  <button id ="room1"><%= data.작성자%>님의 채팅방입니다.</button>
  <button id ="room1-send">채팅방1 메세지</button>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.6.0/socket.io.js" integrity="sha512-rwu37NnL8piEGiFhe2c5j4GahN+gFsIn9k/0hkRY44iz0pc81tBNaUN56qF8X4fy+5pgAAgYi2C9FXdetne5sQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
var socket = io();
$('#room1-send').click(function(){
socket.emit('room1-send', '<%= name.id %> : ' + $('#input1').val());
document.getElementById('input1').value = null;
 })
$('#room1').click(function(name){
socket.emit('joinroom', '입장시켜줘')
socket.emit('room1', '<p> <%= name.id %> 님이 입장하셨습니다. </p>')
 })
socket.on('broadcast', function(data){
$('#content').append('<div>' + data + '</div>')
 })

    </script>
  



        
        
   


    



    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: jQuery and Bootstrap Bundle (includes Popper) -->
    

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>


  </body>
</html>